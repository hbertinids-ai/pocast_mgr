<!-- templates/edit_episode.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Episode</title>
    <link rel="stylesheet" href="/static/custom.css">
</head>
<body>
    {% include 'menu.html' %}
    <div style="display:flex; flex-direction:row; align-items:flex-start;">
        <div style="flex:1;">
            <h1>Edit Episode</h1>
            <form action="/episode/{{ episode.id }}/edit" method="post">
                <label>Título:</label><br>
                <input type="text" name="title" value="{{ episode.title }}" required><br>
                <label>Data e Hora:</label><br>
                {% set dt = episode.scheduled_date.split('T') %}
                {% set date_part = dt[0] %}
                {% set time_part = dt[1] if dt|length > 1 else '00:00' %}
                <input type="datetime-local" name="scheduled_date" value="{{ date_part }}T{{ time_part[:5] }}" required><br>
                <label>Tipo:</label><br>
                <select name="type">
                    <option value="solo"{% if episode.type == 'solo' %} selected{% endif %}>Solo</option>
                    <option value="guest"{% if episode.type == 'guest' %} selected{% endif %}>Convidado</option>
                </select><br>
                <label>Convidado:</label><br>
                <input type="text" name="guest" value="{{ episode.guest }}"><br>
                <label>Tema:</label><br>
                <input type="text" name="theme" value="{{ episode.theme }}"><br>
                <label>Descrição:</label><br>
                <textarea name="description">{{ episode.description }}</textarea><br>
                <label>Anúncio:</label><br>
                <textarea name="announcement">{{ episode.announcement }}</textarea><br>
                <button type="submit">Salvar</button>
            </form>
            <a href="/">Back to Podcasts</a>
        </div>
        <div style="margin-left:2em;">
            {% include 'calendar.html' %}
        </div>
    </div>
</body>
</html>
